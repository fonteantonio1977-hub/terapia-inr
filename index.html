<!doctype html><html lang="it"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>INR & COUMADIN</title>
<link rel="manifest" href="manifest.json"><meta name="theme-color" content="#b91c1c">
<meta name="mobile-web-app-capable" content="yes"><link rel="apple-touch-icon" href="apple-touch-icon.png">
<style>:root{{--bg:#fff1f2;--border:#e5e7eb;--primary:#b91c1c;--text:#111827}}
*{{box-sizing:border-box}}
body{{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:var(--bg);color:#111827}}
.card{{border:1px solid var(--border);border-radius:16px;background:#fff;padding:16px;box-shadow:0 1px 2px rgba(0,0,0,.04)}}
.btn{{border:1px solid var(--primary);border-radius:12px;padding:8px 12px;cursor:pointer}}
.btn-primary{{background:var(--primary);color:#fff}}
.nav{{position:sticky;top:0;background:rgba(255,255,255,.85);backdrop-filter:blur(4px);border-bottom:1px solid var(--border);padding:8px}}
.container{{max-width:1080px;margin:0 auto;padding:16px}}
.small{{font-size:12px;color:#6b7280}}
.grid{{display:grid;gap:16px}}
@media(min-width:640px){{.grid-2{{grid-template-columns:repeat(2,1fr)}}}}
@media(min-width:1024px){{.grid-4{{grid-template-columns:repeat(4,1fr)}}}}
</style>
<script src="vendor/react.production.min.js"></script>
<script src="vendor/react-dom.production.min.js"></script>
<script src="vendor/Recharts.min.js"></script>
</head><body>
<noscript>Abilita JavaScript.</noscript><div id="root"></div>
<script src="app.js"></script>

<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', async () => {
    try {
      const reg = await navigator.serviceWorker.register('service-worker.js');
      let updateReady = false;
      function showUpdateButton() {
        if (updateReady) return;
        updateReady = true;
        const btn = document.createElement('button');
        btn.textContent = 'ðŸ”„ Aggiorna App';
        btn.style.cssText = 'position:fixed;bottom:20px;right:20px;background:#b91c1c;color:#fff;border:none;border-radius:12px;padding:10px 14px;font-size:14px;font-weight:600;box-shadow:0 2px 6px rgba(0,0,0,.25);cursor:pointer;z-index:9999;';
        btn.onclick = () => {
          const sw = reg.waiting || reg.installing;
          if (sw) sw.postMessage({ type: 'SKIP_WAITING' });
        };
        document.body.appendChild(btn);
        navigator.serviceWorker.addEventListener('controllerchange', () => {
          window.location.reload();
        });
      }
      if (reg.waiting) showUpdateButton();
      reg.addEventListener('updatefound', () => {
        const sw = reg.installing;
        if (!sw) return;
        sw.addEventListener('statechange', () => {
          if (sw.state === 'installed' && navigator.serviceWorker.controller) {
            showUpdateButton();
          }
        });
      });
      setInterval(() => reg.update(), 30 * 60 * 1000);
    } catch (err) {
      console.error('SW registration failed:', err);
    }
  });
}
</script>
</body></html>